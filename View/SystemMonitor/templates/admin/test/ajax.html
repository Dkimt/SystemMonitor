<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<div class="data">
    {% for i in data %}
        <div class="item">{{ i }}</div>
    {% endfor %}
</div>
<div id='canvasDiv'></div>
<script src="/static/js/jquery-1.8.2.min.js"></script>
<script src="/static/js/ichart.1.2.min.js"></script>
<script>
    var v = [];
    function Print() {
        var element = document.getElementsByClassName("item");

        for (var i = 0; i < element.length; i++) {
            var it = element[i];
            var json = it.innerHTML;
            var obj = JSON.parse(json);
            v.push(obj.system);
        }
        alert(v);
    }


    $(function(){
				var flow=[];
				for(var i=0;i<21;i++){
					flow.push(Math.floor(Math.random()*(30+((i%12)*5)))+10);
				}

				var data = [
				         	{
				         		name : 'PV',
				         		value:flow,
				         		color:'#0d8ecf',
				         		line_width:2
				         	}
				         ];

				var labels = ["2012-12-01","2012-12-02","2012-12-03","2012-12-04","2012-12-05","2012-12-06"];

				var line = new iChart.LineBasic2D({
					render : 'canvasDiv',
					data: data,
					align:'center',
					title : 'ichartjs官方网站最近5天PV流量趋势',
					subtitle : '平均18:00-22:00访问量达到最大值(单位：万)',
					footnote : '数据来源：模拟数据',
					width : 800,
					height : 400,
					sub_option:{
						smooth : true,//平滑曲线
						point_size:10
					},
					tip:{
						enable:true,
						shadow:true
					},
					legend : {
						enable : false
					},
					crosshair:{
						enable:true,
						line_color:'#62bce9'
					},
					coordinate:{
						width:600,
						valid_width:500,
						height:260,
						axis:{
							color:'#9f9f9f',
							width:[0,0,2,2]
						},
						grids:{
							vertical:{
								way:'share_alike',
						 		value:12
							}
						},
						scale:[{
							 position:'left',
							 start_scale:0,
							 end_scale:100,
							 scale_space:10,
							 scale_size:2,
							 scale_color:'#9f9f9f'
						},{
							 position:'bottom',
							 labels:labels
						}]
					}
				});
			//开始画图
			line.draw();
		});
    window.onload = Print();
</script>
</body>
</html>